# План автоматизации тестирования
## Тестовые данные
- Поле "Номер карты" - (4444 4444 4444 4441 - валидное значение, успешный запрос, 4444 4444 4444 4442 - невалидное значение, отклоненный запрос)
- Поле "Месяц" - текущий месяц в формате "ММ" 
- Поле "Год" - текущий год в формате "ГГ"
- Поле "Владелец" - любое полное имя на латинице ("Ivan Ivanov")
- Поле "CVC" - произвольный код, состоящий из трех цифр ("111")
## Тестовые сценарии для раздела "Оплата по карте"
1. Отправка формы, заполненной валидными данными, оплата по карте *4441
   - Открыть форму по адресу http://localhost:8080/
   - Нажать "Купить"
   - Заполнить все поля валидными данными
   - Нажать "Продолжить"
   - *Ожидаемый результат:* Форма отправляется, появляется сообщение об одобрении заявки банком. Статус в базе данных "APPROVED", сумма транзакции в базе данных - 45000,00 рублей (4500000 в копейках).

2. Отправка заполненной формы при оплате по карте *4442
   - Открыть форму по адресу http://localhost:8080/
   - Нажать "Купить"
   - В поле "Номер карты" ввести номер невалидной карты из тестовых данных "4444 4444 4444 4442"
   - Заполнить остальные поля валидными данными
   - Нажать "Продолжить"
   - *Ожидаемый результат:* Форма отправляется, появляется сообщение об ошибке и отклонение запроса от банка. Статус операции в базе данных - "DECLINED".

3. Отправка пустой формы "Оплата по карте"
   - Открыть форму по адресу http://localhost:8080/
   - Нажать "Купить"
   - Не заполняя поля, нажать "Продолжить"
   - *Ожидаемый результат:* Форма не отправляются, около полей появляются сообщения об ошибке с требованием заполнить поля.

4. Отправка формы "Оплата по карте" с незаполненным полем "Номер карты"
   - Открыть форму по адресу http://localhost:8080/
   - Нажать "Купить"
   - Оставить поле "Номер карты" пустым
   - Заполнить остальные поля валидными данными
   - Нажать "Продолжить"
   - *Ожидаемый результат:* Форма не отправляются, около поля "Номер карты" появляется сообщение об ошибке с требованием заполнить поле.
5. Отправка формы "Оплата по карте" с незаполненным полем "Месяц"
   - Открыть форму по адресу http://localhost:8080/
   - Нажать "Купить"
   - Оставить поле "Месяц" пустым
   - Заполнить остальные поля валидными данными
   - Нажать "Продолжить"
   - *Ожидаемый результат:* Форма не отправляются, около поля "Месяц" появляется сообщение об ошибке с требованием заполнить поле.
6. Отправка формы "Оплата по карте" с незаполненным полем "Год"
   - Открыть форму по адресу http://localhost:8080/
   - Нажать "Купить"
   - Оставить поле "год" пустым
   - Заполнить остальные поля валидными данными
   - Нажать "Продолжить"
   - *Ожидаемый результат:* Форма не отправляются, около поля "Год" появляется сообщение об ошибке с требованием заполнить поле.
7. Отправка формы "Оплата по карте" с незаполненным полем "Владелец"
   - Открыть форму по адресу http://localhost:8080/
   - Нажать "Купить"
   - Оставить поле "Владелец" пустым
   - Заполнить остальные поля валидными данными
   - Нажать "Продолжить"
   - *Ожидаемый результат:* Форма не отправляются, около поля "Владелец" появляется сообщение об ошибке с требованием заполнить поле.
8. Отправка формы "Оплата по карте" с незаполненным полем "CVC"
   - Открыть форму по адресу http://localhost:8080/
   - Нажать "Купить"
   - Оставить поле "CVC" пустым
   - Заполнить остальные поля валидными данными
   - Нажать "Продолжить"
   - *Ожидаемый результат:* Форма не отправляются, около поля "CVC" появляется сообщение об ошибке с требованием заполнить поле.
9. Отправка формы "Оплата по карте" со случайным номером карты
   - Открыть форму по адресу http://localhost:8080/
   - Нажать "Купить"
   - В поле "Номер карты" ввести любое значение, состоящее из 16 цифр ("4251 6478 5467 4325")
   - Нажать "Продолжить"
   - *Ожидаемый результат:* Форма отправляется, появляется сообщение об ошибке, отказ от банка.
   
10. Отправка формы "Оплата по карте" с картой, у которой истек срок действия (месяц)
  - Открыть форму по адресу http://localhost:8080/
  - Нажать "Купить"
  - Заполнить поле "Месяц" датой в формате "ММ" (текущий месяц - 1) 
  - Заполнить остальные поля валидными данными
  - Нажать "Продолжить" 
  - *Ожидаемый результат:* Форма не отправляется, около поля "Месяц" появляется сообщение с текстом "Неверно указан срок действия карты".
11. Отправка формы "Оплата по карте" с картой, у которой истек срок действия (год)
   - Открыть форму по адресу http://localhost:8080/
   - Нажать "Купить"
   - Заполнить поле "Год" датой в формате "ГГ" (текущий год - 1)
   - Заполнить остальные поля валидными данными
   - Нажать "Продолжить"
   - *Ожидаемый результат:* Форма не отправляется, около поля "Год" появляется сообщение с текстом "Срок действия карты истек".
12. Отправка формы "Оплата по карте" с невалидным значением в поле "Владелец" (цифры)
   - Открыть форму по адресу http://localhost:8080/
   - Нажать "Купить"
   - Заполнить поле "Владелец" значением, содержащим цифры (например "Ivan Ivan11v")
   - Заполнить остальные поля валидными данными
   - Нажать "Продолжить"
   - *Ожидаемый результат:* Форма не отправляется, около поля "Владелец" появляется сообщение об ошибке с требованием заполнить поле корректно
13. Отправка формы "Оплата по карте" с невалидным значением в поле "Владелец" (кириллица)
    - Открыть форму по адресу http://localhost:8080/
    - Нажать "Купить"
    - Заполнить поле "Владелец" значением, содержащим имя на кириллице (например "Иван Иванов")
    - Заполнить остальные поля валидными данными
    - Нажать "Продолжить"
    - *Ожидаемый результат:* Форма не отправляется, около поля "Владелец" появляется сообщение об ошибке с требованием заполнить поле корректно
14. Отправка формы "Оплата по карте" с невалидным значением в поле "Владелец" (спецсимволы)
    - Открыть форму по адресу http://localhost:8080/
    - Нажать "Купить"
    - Заполнить поле "Владелец" значением, содержащим спецсимволы (например "Ivan Ivan()/v")
    - Заполнить остальные поля валидными данными
    - Нажать "Продолжить"
    - *Ожидаемый результат:* Форма не отправляется, около поля "Владелец" появляется сообщение об ошибке с требованием заполнить поле корректно
15. Отправка формы "Оплата по карте" с двойной фамилией через дефис
    -  Открыть форму по адресу http://localhost:8080/
    -  Нажать "Купить"
    -  В поле "Владелец" ввести полное имя с двойной фамилией через дефис на латинице ("Ivan Ivanov-Petrov")
    -  Заполнить остальные поля валидными данными
    -  Нажать "Продолжить"
    -  *Ожидаемый результат:* Форма отправляется, появляется сообщение об успешной отправке формы и одобрении операции от банка, статус в базе данных - APPROVED, сумма в базе данных - 45000 рублей (4500000 в копейках)
16. Отправка формы "Оплата по карте" с двойным именем через пробел
    -  Открыть форму по адресу http://localhost:8080/
    -  Нажать "Купить"
    -  В поле "Владелец" ввести полное имя с двойным именем через пробел на латинице ("Ivan Sergey Petrov")
    -  Заполнить остальные поля валидными данными
    -  Нажать "Продолжить"
    -  *Ожидаемый результат:* Форма отправляется, появляется сообщение об успешной отправке формы и одобрении операции от банка, статус в базе данных - APPROVED, сумма в базе данных - 45000 рублей (4500000 в копейках)
17. Проверка ответа сервера при отправке формы "Оплата по карте" с валидными данными и одобренной картой
    - Выполнить POST-запрос по адресу http://localhost:8080/api/v1/pay, в теле запроса передать валидные данные с номером карты *4441
    - *Ожидаемый результат:* статус 200 ОК, тело ответа содержит ("status": APPROVED), статус в базе данных - APPROVED
18. Проверка ответа сервера при отправке формы "Оплата по карте" с валидными данными и неодобренной картой 
    - Выполнить POST-запрос по адресу http://localhost:8080/api/v1/pay, в теле запроса передать валидные данные с номером карты *4442
    - *Ожидаемый результат:* статус 200 ОК, тело ответа содержит ("status": DECLINED), статус в базе данных - DECLINED
19. Проверка ответа сервера при отправке формы "Оплата по карте" со случайным номером карты
    - Выполнить POST-запрос по адресу http://localhost:8080/api/v1/pay, в теле запроса передать валидные данные со случайны номером карты "0183 2738 7564 9846"
    - *Ожидаемый результат:* статус 400, сообщение "Invalid Value Provided"
20. Отправка формы "Оплата по карте" с невалидным значением "0000 0000 0000 0000"
    - Открыть форму по адресу http://localhost:8080
    - Нажать "Купить"
    - В поле "Номер карты" ввести значение "0000 0000 0000 0000"
    - Заполнить остальные поля валидными значениями
    - Нажать "Продолжить"
    - *Ожидаемый результат:* форма не отправляется, поле "Номер карты" подсвечивается ошибкой с текстом "Неверный формат"
21. Отправка формы "Оплата по карте", если поле "Номер карты" заполнено не полностью
   - Открыть форму по адресу http://localhost:8080
     - Нажать "Купить"
     - В поле "Номер карты" ввести значение из 15 цифр "4263 6574 8675 867"
     - Заполнить остальные поля валидными значениями
     - Нажать "Продолжить"
     - *Ожидаемый результат:* форма не отправляется, поле "Номер карты" подсвечивается ошибкой с текстом "Неверный формат"
22. Отправка формы "Оплата по карте", если поле "Месяц" заполнено не полностью
- Открыть форму по адресу http://localhost:8080
    - Нажать "Купить"
    - В поле "Месяц" ввести значение из 1 цифры "4"
    - Заполнить остальные поля валидными значениями
    - Нажать "Продолжить"
    - *Ожидаемый результат:* форма не отправляется, поле "Месяц" подсвечивается ошибкой с текстом "Неверный формат"
23. Отправка формы "Оплата по карте", если поле "Год" заполнено не полностью
- Открыть форму по адресу http://localhost:8080
    - Нажать "Купить"
    - В поле "Год" ввести значение из 1 цифры "4"
    - Заполнить остальные поля валидными значениями
    - Нажать "Продолжить"
    - *Ожидаемый результат:* форма не отправляется, поле "Год" подсвечивается ошибкой с текстом "Неверный формат"
24. Отправка формы "Оплата по карте", если поле "CVC" заполнено не полностью
- Открыть форму по адресу http://localhost:8080
    - Нажать "Купить"
    - В поле "CVC" ввести значение из 2 цифр "44"
    - Заполнить остальные поля валидными значениями
    - Нажать "Продолжить"
    - *Ожидаемый результат:* форма не отправляется, поле "CVC" подсвечивается ошибкой с текстом "Неверный формат"

## Тестовые сценарии для раздела "Купить в кредит" 

1. Отправка формы, заполненной валидными данными, кредит по карте *4441
   - Открыть форму по адресу http://localhost:8080/
   - Нажать "Купить в кредит"
   - Заполнить все поля валидными данными
   - Нажать "Продолжить"
   - *Ожидаемый результат:* Форма отправляется, появляется сообщение об одобрении заявки банком. Статус в базе данных "APPROVED", сумма транзакции в базе данных - 45000 рублей.
  
2. Отправка заполненной формы, кредит по карте *4442
   - Открыть форму по адресу http://localhost:8080/
   - Нажать "Купить в кредит"
   - В поле "Номер карты" ввести номер невалидной карты из тестовых данных "4444 4444 4444 4442"
   - Заполнить остальные поля валидными данными
   - Нажать "Продолжить"
   - *Ожидаемый результат:* Форма отправляется, появляется сообщение об ошибке и отклонение запроса от банка. Статус операции в базе данных - "DECLINED".
  
3. Отправка пустой формы "Кредит по данным карты"
   - Открыть форму по адресу http://localhost:8080/
   - Нажать "Купить в кредит"
   - Не заполняя поля, нажать "Продолжить"
   - *Ожидаемый результат:* Форма не отправляются, около полей появляются сообщения об ошибке с требованием заполнить поля.

4. Отправка формы "Кредит по данным карты" с незаполненным полем "Номер карты"
   - Открыть форму по адресу http://localhost:8080/
   - Нажать "Купить в кредит"
   - Оставить поле "Номер карты" пустым
   - Заполнить остальные поля валидными данными
   - Нажать "Продолжить"
   - *Ожидаемый результат:* Форма не отправляются, около поля "Номер карты" появляется сообщение об ошибке с требованием заполнить поле.
5. Отправка формы "Кредит по данным карты" с незаполненным полем "Месяц"
   - Открыть форму по адресу http://localhost:8080/
   - Нажать "Купить в кредит"
   - Оставить поле "Месяц" пустым
   - Заполнить остальные поля валидными данными
   - Нажать "Продолжить"
   - *Ожидаемый результат:* Форма не отправляются, около поля "Месяц" появляется сообщение об ошибке с требованием заполнить поле.
6. Отправка формы "Кредит по данным карты" с незаполненным полем "Год"
   - Открыть форму по адресу http://localhost:8080/
   - Нажать "Купить в кредит"
   - Оставить поле "Год" пустым
   - Заполнить остальные поля валидными данными
   - Нажать "Продолжить"
   - *Ожидаемый результат:* Форма не отправляются, около поля "Год" появляется сообщение об ошибке с требованием заполнить поле.
7. Отправка формы "Кредит по данным карты" с незаполненным полем "Владелец"
   - Открыть форму по адресу http://localhost:8080/
   - Нажать "Купить в кредит"
   - Оставить поле "Владелец" пустым
   - Заполнить остальные поля валидными данными
   - Нажать "Продолжить"
   - *Ожидаемый результат:* Форма не отправляются, около поля "Владелец" появляется сообщение об ошибке с требованием заполнить поле.
8. Отправка формы "Кредит по данным карты" с незаполненным полем "CVC"
   - Открыть форму по адресу http://localhost:8080/
   - Нажать "Купить в кредит"
   - Оставить поле "CVC" пустым
   - Заполнить остальные поля валидными данными
   - Нажать "Продолжить"
   - *Ожидаемый результат:* Форма не отправляются, около поля "CVC" появляется сообщение об ошибке с требованием заполнить поле.
9. Отправка формы "Кредит по данным карты" со случайным номером карты
   - Открыть форму по адресу http://localhost:8080/
   - Нажать "Купить в кредит"
   - В поле "Номер карты" ввести любое значение, состоящее из 16 случайных цифр ("4251 6478 5467 4325")
   - Нажать "Продолжить"
   - *Ожидаемый результат:* Форма отправляется, появляется сообщение об ошибке, отказ от банка
10. Отправка формы "Кредит по данным карты" с картой, у которой истек срок действия (месяц) 
   - Открыть форму по адресу http://localhost:8080/
   - Нажать "Купить в кредит"
   - Заполнить поле "Месяц" датой в формате "ММ" (текущий месяц -1) 
   - Заполнить остальные поля валидными данными
   - Нажать "Продолжить" 
   - *Ожидаемый результат:* Форма не отправляется, около поля "Месяц" появляется сообщение с текстом "Неверно указан срок действия карты"
11. Отправка формы "Кредит по данным карты" с картой, у которой истек срок действия (год)
   - Открыть форму по адресу http://localhost:8080/
   - Нажать "Купить в кредит"
   - Заполнить поле "Год" датой в формате "ГГ" (текущий год - 1)
   - Заполнить остальные поля валидными данными
   - Нажать "Продолжить"
   - *Ожидаемый результат:* Форма не отправляется, около поля "Год" появляется сообщение с текстом "Срок действия карты истек".
12. Отправка формы "Кредит по данным карты" с невалидным значением в поле "Владелец" (цифры)
   - Открыть форму по адресу http://localhost:8080/
   - Нажать "Купить в кредит"
   - Заполнить поле "Владелец" значением, содержащим цифры (например "Ivan Ivan11v")
   - Заполнить остальные поля валидными данными
   - Нажать "Продолжить"
   - *Ожидаемый результат:* Форма не отправляется, около поля "Владелец" появляется сообщение об ошибке с требованием заполнить поле корректно
13. Отправка формы "Кредит по данным карты" с невалидным значением в поле "Владелец" (кириллица) 
   - Открыть форму по адресу http://localhost:8080/ 
   - Нажать "Купить в кредит" 
   - Заполнить поле "Владелец" значением, содержащим имя на кириллице (например "Иван Иванов") 
   - Заполнить остальные поля валидными данными 
   - Нажать "Продолжить" 
   - *Ожидаемый результат:* Форма не отправляется, около поля "Владелец" появляется сообщение об ошибке с требованием заполнить поле корректно 
14. Отправка формы "Кредит по данным карты" с невалидным значением в поле "Владелец" (спецсимволы)
   - Открыть форму по адресу http://localhost:8080/
   - Нажать "Купить в кредит"
   - Заполнить поле "Владелец" значением, содержащим спецсимволы (например "Ivan Ivan()/v")
   - Заполнить остальные поля валидными данными
   - Нажать "Продолжить"
   - *Ожидаемый результат:* Форма не отправляется, около поля "Владелец" появляется сообщение об ошибке с требованием заполнить поле корректно
15. Отправка формы "Кредит по данным карты" с двойной фамилией через дефис
   -  Открыть форму по адресу http://localhost:8080/
   -  Нажать "Купить в кредит"
   -  В поле "Владелец" ввести полное имя с двойной фамилией через дефис на латинице ("Ivan Ivanov-Petrov")
   -  Заполнить остальные поля валидными данными
   -  Нажать "Продолжить"
   -  *Ожидаемый результат:* Форма отправляется, появляется сообщение об успешной отправке формы и одобрении операции от банка, статус в базе данных - APPROVED
16. Отправка формы "Кредит по данным карты" с двойным именем через пробел
   -  Открыть форму по адресу http://localhost:8080/
   -  Нажать "Купить в кредит"
   -  В поле "Владелец" ввести полное имя с двойным именем через пробел на латинице ("Ivan Sergey Petrov")
   -  Заполнить остальные поля валидными данными
   -  Нажать "Продолжить"
   -  *Ожидаемый результат:* Форма отправляется, появляется сообщение об успешной отправке формы и одобрении операции от банка, статус в базе данных - APPROVED
17. Проверка ответа сервера при отправке формы "Кредит по данным карты" с валидными данными и одобренной картой
   - Выполнить POST-запрос по адресу http://localhost:8080/api/v1/credit, в теле запроса передать валидные данные с номером карты *4441
   - *Ожидаемый результат:* статус 200 ОК, тело ответа содержит ("status": APPROVED), статус в базе данных - APPROVED
  
18. Проверка ответа сервера при отправке формы "Кредит по данным карты" с валидными данными и неодобренной картой 
   - Выполнить POST-запрос по адресу http://localhost:8080/api/v1/credit, в теле запроса передать валидные данные с номером карты *4442
   - *Ожидаемый результат:* статус 200 ОК, тело ответа содержит ("status": DECLINED), статус в базе данных - DECLINED
  
19. Проверка ответа сервера при отправке формы "Кредит по данным карты" со случайным номером карты
   - Выполнить POST-запрос по адресу http://localhost:8080/api/v1/credit, в теле запроса передать валидные данные со случайным номером карты "4628 3451 7890 6547"
   - *Ожидаемый результат:* статус 400, сообщение "Invalid Value Provided"
20. Отправка формы "Кредит по данным карты" с невалидным значением "0000 0000 0000 0000"
   - Открыть форму по адресу http://localhost:8080
   - Нажать "Купить в кредит"
   - В поле "Номер карты" ввести значение "0000 0000 0000 0000"
   - Заполнить остальные поля валидными значениями
   - Нажать "Продолжить"
   - *Ожидаемый результат:* форма не отправляется, поле "Номер карты" подсвечивается ошибкой с текстом "Неверный формат"
21. Отправка формы "Кредит по данным карты", если поле "Номер карты" заполнено не полностью
- Открыть форму по адресу http://localhost:8080
    - Нажать "Купить в кредит"
    - В поле "Номер карты" ввести значение из 15 цифр "4263 6574 8675 867"
    - Заполнить остальные поля валидными значениями
    - Нажать "Продолжить"
    - *Ожидаемый результат:* форма не отправляется, поле "Номер карты" подсвечивается ошибкой с текстом "Неверный формат"
22. Отправка формы "Кредит по данным карты", если поле "Месяц" заполнено не полностью
- Открыть форму по адресу http://localhost:8080
    - Нажать "Купить в кредит"
    - В поле "Месяц" ввести значение из 1 цифры "4"
    - Заполнить остальные поля валидными значениями
    - Нажать "Продолжить"
    - *Ожидаемый результат:* форма не отправляется, поле "Месяц" подсвечивается ошибкой с текстом "Неверный формат"
23. Отправка формы "Кредит по данным карты", если поле "Год" заполнено не полностью
- Открыть форму по адресу http://localhost:8080
    - Нажать "Купить в кредит"
    - В поле "Год" ввести значение из 1 цифры "4"
    - Заполнить остальные поля валидными значениями
    - Нажать "Продолжить"
    - *Ожидаемый результат:* форма не отправляется, поле "Год" подсвечивается ошибкой с текстом "Неверный формат"
24. Отправка формы "Кредит по данным карты", если поле "CVC" заполнено не полностью
- Открыть форму по адресу http://localhost:8080
    - Нажать "Купить в кредит"
    - В поле "CVC" ввести значение из 2 цифр "44"
    - Заполнить остальные поля валидными значениями
    - Нажать "Продолжить"
    - *Ожидаемый результат:* форма не отправляется, поле "CVC" подсвечивается ошибкой с текстом "Неверный формат"

# Инструменты, необходимые для тестирования
- Java - для написания кода автотестов
- Selenide - для автоматизации процесса тестирования
- Faker - для генерации случайных данных для пользователя
- Allure Report - для формирования наглядной и понятной отчетности по тестам
- Junit5 - для написания и запуска автотестов
- MySQL - для работы с базой данных
- PostgreSQL - для работы с базой данных
- Docker - для развертывания базы данных и приложения в контейнерах
- Dev Tools - для поиска необходимых элементов на странице в автотестах
# Риски
- Ошибки в коде
- Возможные изменения в дизайне приложения, которые приведут к падению тестов
- Необходимость постоянной актуализации автотестов
# Время на разработку и прогон тестов
- 20-30 часов
